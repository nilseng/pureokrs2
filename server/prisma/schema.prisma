generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model KeyResult {
  createdAt DateTime  @default(now())
  dueDate   DateTime?
  id        Int       @default(autoincrement()) @id
  name      String
  okrId     Int
  type      String    @default("Number")
  updatedAt DateTime  @default(now())
  updatedBy Int
  value     Float?    @default(0)
  Okr       Okr       @relation(fields: [okrId], references: [id])
  User      User      @relation(fields: [updatedBy], references: [id])
}

model Okr {
  assignedTo                Int?
  createdAt                 DateTime    @default(now())
  dueDate                   DateTime?
  id                        Int         @default(autoincrement()) @id
  objective                 String
  status                    String      @default("Active")
  updatedAt                 DateTime    @default(now())
  updatedBy                 Int?
  User_Okr_assignedToToUser User?       @relation("Okr_assignedToToUser", fields: [assignedTo], references: [id])
  User_Okr_updatedByToUser  User?       @relation("Okr_updatedByToUser", fields: [updatedBy], references: [id])
  KeyResult                 KeyResult[]
}

model User {
  email                    String      @unique
  id                       Int         @default(autoincrement()) @id
  name                     String?
  KeyResult                KeyResult[]
  Okr_Okr_assignedToToUser Okr[]       @relation("Okr_assignedToToUser")
  Okr_Okr_updatedByToUser  Okr[]       @relation("Okr_updatedByToUser")
}